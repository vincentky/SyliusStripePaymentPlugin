<div class="ui tab" data-tab="recurring">
    <h3 class="ui dividing header">{{ 'sylius_stripe_payment_plugin.ui.product_variant.tab.recurring'|trans }}</h3>
    <div class="ui segment" id="recurring-variant-settings">
        {% if form.vars.value.recurring %}
            {% if form.vars.value.stripeProductId is not empty %}
                <div class="ui positive message">
                    <div class="header">Produit associé à Stripe</div>
                    <p>Le produit est associé à Stripe (Product ID : {{ form.vars.value.stripeProductId }}).</p>
                </div>
            {% else %}
                <div class="ui warning message">
                    <div class="header">Produit non associé à Stripe</div>
                    <p>Le produit n'est pas encore associé à Stripe.</p>
                </div>
            {% endif %}
        {% endif %}
        <table class="ui table">
            <tr>
                <td>
                    {{ form_label(form.recurring) }}
                </td>
                <td>
                    <div class="field">
                        <div class="ui toggle checkbox">
                            {{ form_widget(form.recurring) }}
                            {{ form_errors(form.recurring) }}
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    {{ form_label(form.times) }}
                </td>
                <td>
                    {{ form_widget(form.times) }}
                    {{ form_errors(form.times) }}
                    <small>
                        {{ form_help(form.times) }}
                    </small>
                </td>
            </tr>
            <tr>
                <td>
                    {{ form_label(form.interval.amount) }}
                </td>
                <td>
                    <div class="field inline">
                        <div id="recurring-interval-amount">
                            {{ form_widget(form.interval.amount) }}
                            {{ form_help(form.interval.amount) }}
                            {{ form_errors(form.interval.amount) }}
                        </div>
                        <div id="recurring-interval-step">
                            {{ form_widget(form.interval.step) }}
                            {{ form_help(form.interval.step) }}
                            {{ form_errors(form.interval.step) }}
                        </div>
                    </div>
                </td>
            </tr>
        </table>
    </div>

    {{ sylius_template_event(['sylius.admin.product_variant.' ~ action ~ '.tab_recurring', 'sylius.admin.product_variant.tab_recurring'], {'form': form}) }}
</div>
